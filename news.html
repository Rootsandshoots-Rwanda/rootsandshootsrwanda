<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News & Stories | Roots & Shoots Rwanda</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #2e7d32;
            --secondary-color: #4caf50;
            --accent-color: #81c784;
            --text-dark: #333;
            --text-light: #666;
            --bg-light: #f9f9f9;
            --white: #ffffff;
            --gray-light: #f5f5f5;
            --gray-medium: #e0e0e0;
            --gray-dark: #757575;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --shadow-heavy: 0 8px 24px rgba(0, 0, 0, 0.15);
            --transition: all 0.3s ease;
        }

        body {
            color: var(--text-dark);
            background-color: var(--bg-light);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Language Selector */
        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            gap: 5px;
            background: rgba(255, 255, 255, 0.9);
            padding: 8px 12px;
            border-radius: 20px;
            box-shadow: var(--shadow);
        }

        .language-selector button {
            background: none;
            border: 1px solid var(--gray-medium);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
        }

        .language-selector button.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .language-selector button:hover:not(.active) {
            background-color: var(--gray-light);
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #1b5e20 0%, #2e7d32 50%, #4caf50 100%);
            color: white;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDAiIGZpbGw9IiMxQjVFMjAiLz48cGF0aCBkPSJNMCw1MDBMNDAwLDEwMEw4MDAsNzAwTDEwMDAsMjAwVjEwMDBIMFY1MDBaIiBmaWxsPSIjMkU3RDMyIiBmaWxsLW9wYWNpdHk9IjAuOCIvPjxwYXRoIGQ9Ik0wLDcwMEwzMDAsMjAwTDcwMCw4MDBMMTAwMCw0MDBWMTAwMEgwVjcwMFoiIGZpbGw9IiM0Q0FGNTAiIGZpbGwtb3BhY2l0eT0iMC42Ii8+PC9zdmc+') no-repeat center;
            background-size: cover;
            opacity: 0.7;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 30px;
            opacity: 0.9;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-image {
            width: 100%;
            max-width: 800px;
            height: 300px;
            margin-top: 40px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow-heavy);
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.2rem;
        }

        /* Filter Tabs */
        .filter-section {
            padding: 30px 20px;
            background-color: var(--white);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        .filter-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }

        .filter-tabs {
            display: flex;
            background-color: var(--gray-light);
            border-radius: 30px;
            padding: 5px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-tab {
            padding: 12px 24px;
            border: none;
            background: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            border-radius: 25px;
            transition: var(--transition);
            color: var(--text-light);
        }

        .filter-tab.active {
            background-color: var(--primary-color);
            color: white;
        }

        .filter-tab:hover:not(.active) {
            background-color: var(--gray-medium);
        }

        /* Content Feed */
        .content-section {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .content-card {
            background-color: var(--white);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .content-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-heavy);
        }

        .card-image {
            height: 200px;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            position: relative;
        }

        .card-image .category-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background-color: var(--primary-color);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .card-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .card-content h3 {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: var(--text-dark);
        }

        .card-excerpt {
            color: var(--text-light);
            margin-bottom: 15px;
            flex-grow: 1;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            color: var(--gray-dark);
            font-size: 14px;
            border-top: 1px solid var(--gray-light);
            padding-top: 15px;
            margin-top: 10px;
        }

        /* Pagination/Load More */
        .load-more-container {
            text-align: center;
            margin: 40px 0;
        }

        .load-more-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            border-radius: 30px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
        }

        .load-more-btn:hover {
            background-color: #1b5e20;
            transform: scale(1.05);
        }

        /* Admin Overlay */
        .admin-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            display: none;
            flex-direction: column;
            overflow-y: auto;
        }

        .admin-overlay.active {
            display: flex;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            background-color: rgba(30, 30, 30, 0.95);
            color: white;
        }

        .admin-header h2 {
            font-size: 1.8rem;
        }

        .close-admin {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .close-admin:hover {
            color: var(--accent-color);
        }

        .admin-tabs {
            display: flex;
            background-color: rgba(40, 40, 40, 0.95);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .admin-tab {
            padding: 15px 30px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            border-bottom: 3px solid transparent;
        }

        .admin-tab.active {
            color: white;
            border-bottom-color: var(--secondary-color);
            background-color: rgba(255, 255, 255, 0.05);
        }

        .admin-tab:hover:not(.active) {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .admin-content {
            flex-grow: 1;
            padding: 30px;
            background-color: rgba(30, 30, 30, 0.95);
            overflow-y: auto;
        }

        .admin-panel {
            display: none;
            max-width: 800px;
            margin: 0 auto;
            color: white;
        }

        .admin-panel.active {
            display: block;
        }

        /* Authentication */
        .auth-container {
            max-width: 400px;
            margin: 100px auto;
            padding: 40px;
            background-color: rgba(50, 50, 50, 0.9);
            border-radius: 10px;
            text-align: center;
        }

        .auth-container h3 {
            margin-bottom: 20px;
            color: white;
        }

        .auth-input {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            color: white;
            font-size: 16px;
        }

        .auth-input:focus {
            outline: none;
            border-color: var(--secondary-color);
        }

        .auth-btn {
            width: 100%;
            padding: 15px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .auth-btn:hover {
            background-color: var(--primary-color);
        }

        .auth-error {
            color: #f44336;
            margin-top: 15px;
            display: none;
        }

        /* Add Content Form */
        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
        }

        .content-type-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .content-type-btn {
            flex: 1;
            padding: 12px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.7);
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
        }

        .content-type-btn.active {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        .language-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
        }

        .lang-tab {
            padding: 10px 15px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.7);
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
        }

        .lang-tab.active {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        .lang-panel {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .lang-panel.active {
            display: block;
        }

        .form-input, .form-textarea {
            width: 100%;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            color: white;
            font-size: 16px;
            resize: vertical;
        }

        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--secondary-color);
        }

        .image-upload-container {
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            margin-bottom: 20px;
        }

        .image-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .preview-item {
            position: relative;
            height: 120px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }

        .preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .publish-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            width: 100%;
        }

        .publish-btn:hover {
            background-color: var(--primary-color);
        }

        /* Delete Content Panel */
        .content-list {
            max-height: 500px;
            overflow-y: auto;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
        }

        .content-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            margin-bottom: 15px;
            border-left: 4px solid var(--secondary-color);
        }

        .item-thumbnail {
            width: 80px;
            height: 60px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .item-info {
            flex-grow: 1;
        }

        .item-info h4 {
            margin-bottom: 5px;
            color: white;
        }

        .item-meta {
            display: flex;
            gap: 15px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
        }

        .delete-btn {
            background-color: #f44336;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
        }

        .delete-btn:hover {
            background-color: #d32f2f;
        }

        /* Success/Error Messages */
        .message {
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .success {
            background-color: rgba(76, 175, 80, 0.2);
            color: #4caf50;
            border: 1px solid #4caf50;
        }

        .error {
            background-color: rgba(244, 67, 54, 0.2);
            color: #f44336;
            border: 1px solid #f44336;
        }

        /* Stories Section Anchor */
        #stories:target {
            padding-top: 80px;
            margin-top: -80px;
            display: block;
        }

        /* Footer */
        .footer {
            background-color: var(--primary-color);
            color: white;
            padding: 40px 20px;
            text-align: center;
            margin-top: 60px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: white;
        }

        .copyright {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .content-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .filter-tabs {
                width: 100%;
            }
            
            .filter-tab {
                flex: 1;
                text-align: center;
            }
            
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .language-selector {
                top: 10px;
                right: 10px;
                padding: 6px 10px;
            }
            
            .admin-header {
                padding: 15px 20px;
            }
            
            .admin-tab {
                padding: 12px 20px;
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .filter-container {
                flex-direction: column;
                align-items: center;
            }
            
            .filter-tabs {
                width: 100%;
            }
            
            .content-item {
                flex-direction: column;
                text-align: center;
            }
            
            .item-thumbnail {
                margin-right: 0;
                margin-bottom: 15px;
                width: 100%;
                height: 120px;
            }
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <button class="lang-btn active" data-lang="en">EN</button>
        <button class="lang-btn" data-lang="fr">FR</button>
        <button class="lang-btn" data-lang="rw">RW</button>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 data-i18n="news.hero.title">News & Stories</h1>
            <p data-i18n="news.hero.subtitle">Discover the latest updates, initiatives, and inspiring stories from Roots & Shoots Rwanda's journey in conservation and community development.</p>
            <div class="hero-image">
                <div data-i18n="news.hero.imageCaption">Featured: Youth environmental workshop in Kigali</div>
            </div>
        </div>
    </section>

    <!-- Filter Tabs -->
    <section class="filter-section">
        <div class="filter-container">
            <div class="filter-tabs">
                <button class="filter-tab active" data-filter="all" data-i18n="news.filter.all">All</button>
                <button class="filter-tab" data-filter="news" data-i18n="news.filter.news">News</button>
                <button class="filter-tab" data-filter="story" data-i18n="news.filter.stories">Stories</button>
            </div>
        </div>
    </section>

    <!-- Content Feed -->
    <section class="content-section">
        <div class="content-grid" id="content-feed">
            <!-- Content cards will be generated here by JavaScript -->
        </div>
        
        <!-- Stories Section Anchor -->
        <div id="stories"></div>
        
        <div class="load-more-container">
            <button class="load-more-btn" data-i18n="news.loadMore">Load More Stories</button>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-links">
            <a href="#" data-i18n="footer.home">Home</a>
            <a href="#" data-i18n="footer.about">About Us</a>
            <a href="#" data-i18n="footer.news">News & Stories</a>
            <a href="#" data-i18n="footer.programs">Programs</a>
            <a href="#" data-i18n="footer.donate">Donate</a>
            <a href="#" data-i18n="footer.contact">Contact</a>
        </div>
        <p class="copyright" data-i18n="footer.copyright">© 2023 Roots & Shoots Rwanda. All rights reserved.</p>
    </footer>

    <!-- Admin Overlay -->
    <div class="admin-overlay" id="admin-overlay">
        <div class="admin-header">
            <h2 data-i18n="admin.title">Roots & Shoots Rwanda - Content Management</h2>
            <button class="close-admin" id="close-admin">&times;</button>
        </div>
        
        <!-- Authentication Section -->
        <div class="auth-container" id="auth-container">
            <h3 data-i18n="admin.auth.title">Admin Authentication</h3>
            <p data-i18n="admin.auth.instruction" style="color: rgba(255, 255, 255, 0.7); margin-bottom: 20px;">Enter password to access content management</p>
            <input type="password" class="auth-input" id="admin-password" placeholder="Password" data-i18n-placeholder="admin.auth.placeholder">
            <button class="auth-btn" id="login-btn" data-i18n="admin.auth.login">Login</button>
            <div class="auth-error" id="auth-error" data-i18n="admin.auth.error">Incorrect password. Please try again.</div>
        </div>
        
        <!-- Admin Panel (hidden until authenticated) -->
        <div id="admin-panel" style="display: none;">
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="add-content" data-i18n="admin.tabs.add">Add Content</button>
                <button class="admin-tab" data-tab="delete-content" data-i18n="admin.tabs.delete">Delete Content</button>
            </div>
            
            <div class="admin-content">
                <!-- Add Content Panel -->
                <div class="admin-panel active" id="add-content-panel">
                    <h3 style="margin-bottom: 20px;" data-i18n="admin.add.title">Add New Content</h3>
                    
                    <div class="content-type-selector">
                        <button class="content-type-btn active" data-type="news" data-i18n="admin.add.news">News</button>
                        <button class="content-type-btn" data-type="story" data-i18n="admin.add.story">Story</button>
                    </div>
                    
                    <div class="language-tabs">
                        <button class="lang-tab active" data-lang="en">English</button>
                        <button class="lang-tab" data-lang="fr">Français</button>
                        <button class="lang-tab" data-lang="rw">Kinyarwanda</button>
                    </div>
                    
                    <!-- English Panel -->
                    <div class="lang-panel active" id="en-panel">
                        <div class="form-group">
                            <label data-i18n="admin.add.titleLabel">Title</label>
                            <input type="text" class="form-input" id="en-title" placeholder="Enter title in English">
                        </div>
                        <div class="form-group">
                            <label data-i18n="admin.add.excerptLabel">Short Excerpt</label>
                            <textarea class="form-textarea" id="en-excerpt" rows="3" placeholder="Enter short excerpt in English"></textarea>
                        </div>
                        <div class="form-group">
                            <label data-i18n="admin.add.contentLabel">Full Content</label>
                            <textarea class="form-textarea" id="en-content" rows="8" placeholder="Enter full content in English"></textarea>
                        </div>
                    </div>
                    
                    <!-- French Panel -->
                    <div class="lang-panel" id="fr-panel">
                        <div class="form-group">
                            <label data-i18n="admin.add.titleLabel">Title</label>
                            <input type="text" class="form-input" id="fr-title" placeholder="Enter title in French">
                        </div>
                        <div class="form-group">
                            <label data-i18n="admin.add.excerptLabel">Short Excerpt</label>
                            <textarea class="form-textarea" id="fr-excerpt" rows="3" placeholder="Enter short excerpt in French"></textarea>
                        </div>
                        <div class="form-group">
                            <label data-i18n="admin.add.contentLabel">Full Content</label>
                            <textarea class="form-textarea" id="fr-content" rows="8" placeholder="Enter full content in French"></textarea>
                        </div>
                    </div>
                    
                    <!-- Kinyarwanda Panel -->
                    <div class="lang-panel" id="rw-panel">
                        <div class="form-group">
                            <label data-i18n="admin.add.titleLabel">Title</label>
                            <input type="text" class="form-input" id="rw-title" placeholder="Enter title in Kinyarwanda">
                        </div>
                        <div class="form-group">
                            <label data-i18n="admin.add.excerptLabel">Short Excerpt</label>
                            <textarea class="form-textarea" id="rw-excerpt" rows="3" placeholder="Enter short excerpt in Kinyarwanda"></textarea>
                        </div>
                        <div class="form-group">
                            <label data-i18n="admin.add.contentLabel">Full Content</label>
                            <textarea class="form-textarea" id="rw-content" rows="8" placeholder="Enter full content in Kinyarwanda"></textarea>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label data-i18n="admin.add.imagesLabel">Upload Images (First image will be used as thumbnail)</label>
                        <div class="image-upload-container" id="image-drop-area">
                            <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.7;"></i>
                            <p data-i18n="admin.add.uploadInstruction">Drag & drop images here or click to browse</p>
                            <p style="font-size: 14px; opacity: 0.6; margin-top: 10px;" data-i18n="admin.add.uploadLimit">Maximum 5 images allowed</p>
                            <input type="file" id="image-input" accept="image/*" multiple style="display: none;">
                        </div>
                        <div class="image-preview" id="image-preview"></div>
                    </div>
                    
                    <div class="message success" id="add-success" data-i18n="admin.add.success">Content published successfully!</div>
                    <div class="message error" id="add-error" data-i18n="admin.add.error">Please fill all required fields in all languages and upload at least one image.</div>
                    
                    <button class="publish-btn" id="publish-btn" data-i18n="admin.add.publish">Publish Content</button>
                </div>
                
                <!-- Delete Content Panel -->
                <div class="admin-panel" id="delete-content-panel">
                    <h3 style="margin-bottom: 20px;" data-i18n="admin.delete.title">Manage Existing Content</h3>
                    <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: 20px;" data-i18n="admin.delete.instruction">Select content to delete. This action cannot be undone.</p>
                    
                    <div class="content-list" id="content-list">
                        <!-- Content items will be generated here by JavaScript -->
                    </div>
                    
                    <div class="message success" id="delete-success" data-i18n="admin.delete.success">Content deleted successfully!</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Internationalization data
        const i18n = {
            en: {
                // Hero section
                "news.hero.title": "News & Stories",
                "news.hero.subtitle": "Discover the latest updates, initiatives, and inspiring stories from Roots & Shoots Rwanda's journey in conservation and community development.",
                "news.hero.imageCaption": "Featured: Youth environmental workshop in Kigali",
                
                // Filter tabs
                "news.filter.all": "All",
                "news.filter.news": "News",
                "news.filter.stories": "Stories",
                
                // Load more button
                "news.loadMore": "Load More Stories",
                
                // Admin overlay
                "admin.title": "Roots & Shoots Rwanda - Content Management",
                "admin.auth.title": "Admin Authentication",
                "admin.auth.instruction": "Enter password to access content management",
                "admin.auth.placeholder": "Password",
                "admin.auth.login": "Login",
                "admin.auth.error": "Incorrect password. Please try again.",
                
                // Admin tabs
                "admin.tabs.add": "Add Content",
                "admin.tabs.delete": "Delete Content",
                
                // Add content panel
                "admin.add.title": "Add New Content",
                "admin.add.news": "News",
                "admin.add.story": "Story",
                "admin.add.titleLabel": "Title",
                "admin.add.excerptLabel": "Short Excerpt",
                "admin.add.contentLabel": "Full Content",
                "admin.add.imagesLabel": "Upload Images (First image will be used as thumbnail)",
                "admin.add.uploadInstruction": "Drag & drop images here or click to browse",
                "admin.add.uploadLimit": "Maximum 5 images allowed",
                "admin.add.publish": "Publish Content",
                "admin.add.success": "Content published successfully!",
                "admin.add.error": "Please fill all required fields in all languages and upload at least one image.",
                
                // Delete content panel
                "admin.delete.title": "Manage Existing Content",
                "admin.delete.instruction": "Select content to delete. This action cannot be undone.",
                "admin.delete.success": "Content deleted successfully!",
                
                // Footer
                "footer.home": "Home",
                "footer.about": "About Us",
                "footer.news": "News & Stories",
                "footer.programs": "Programs",
                "footer.donate": "Donate",
                "footer.contact": "Contact",
                "footer.copyright": "© 2023 Roots & Shoots Rwanda. All rights reserved."
            },
            fr: {
                // Hero section
                "news.hero.title": "Actualités et Histoires",
                "news.hero.subtitle": "Découvrez les dernières mises à jour, initiatives et histoires inspirantes du parcours de Roots & Shoots Rwanda dans la conservation et le développement communautaire.",
                "news.hero.imageCaption": "À la une : Atelier environnemental pour les jeunes à Kigali",
                
                // Filter tabs
                "news.filter.all": "Tous",
                "news.filter.news": "Actualités",
                "news.filter.stories": "Histoires",
                
                // Load more button
                "news.loadMore": "Charger Plus d'Histoires",
                
                // Admin overlay
                "admin.title": "Roots & Shoots Rwanda - Gestion de Contenu",
                "admin.auth.title": "Authentification Administrateur",
                "admin.auth.instruction": "Entrez le mot de passe pour accéder à la gestion du contenu",
                "admin.auth.placeholder": "Mot de passe",
                "admin.auth.login": "Connexion",
                "admin.auth.error": "Mot de passe incorrect. Veuillez réessayer.",
                
                // Admin tabs
                "admin.tabs.add": "Ajouter du Contenu",
                "admin.tabs.delete": "Supprimer du Contenu",
                
                // Add content panel
                "admin.add.title": "Ajouter un Nouveau Contenu",
                "admin.add.news": "Actualité",
                "admin.add.story": "Histoire",
                "admin.add.titleLabel": "Titre",
                "admin.add.excerptLabel": "Court Extrait",
                "admin.add.contentLabel": "Contenu Complet",
                "admin.add.imagesLabel": "Télécharger des Images (La première image sera utilisée comme miniature)",
                "admin.add.uploadInstruction": "Glissez-déposez des images ici ou cliquez pour parcourir",
                "admin.add.uploadLimit": "Maximum 5 images autorisées",
                "admin.add.publish": "Publier le Contenu",
                "admin.add.success": "Contenu publié avec succès !",
                "admin.add.error": "Veuillez remplir tous les champs requis dans toutes les langues et télécharger au moins une image.",
                
                // Delete content panel
                "admin.delete.title": "Gérer le Contenu Existant",
                "admin.delete.instruction": "Sélectionnez le contenu à supprimer. Cette action ne peut pas être annulée.",
                "admin.delete.success": "Contenu supprimé avec succès !",
                
                // Footer
                "footer.home": "Accueil",
                "footer.about": "À Propos",
                "footer.news": "Actualités et Histoires",
                "footer.programs": "Programmes",
                "footer.donate": "Faire un Don",
                "footer.contact": "Contact",
                "footer.copyright": "© 2023 Roots & Shoots Rwanda. Tous droits réservés."
            },
            rw: {
                // Hero section
                "news.hero.title": "Amakuru n'Inkuru",
                "news.hero.subtitle": "Menya amakuru mashya, imishinga, n'inkuru zihimbaza zivuka mu rugendo rwa Roots & Shoots Rwanda mu kurinda ibidukikije no guteza imbere umuryango.",
                "news.hero.imageCaption": "Ibiganjemo: Isomo ry'abato ry'ibidukikije i Kigali",
                
                // Filter tabs
                "news.filter.all": "Byose",
                "news.filter.news": "Amakuru",
                "news.filter.stories": "Inkuru",
                
                // Load more button
                "news.loadMore": "Zana Inkuru Zinyuranye",
                
                // Admin overlay
                "admin.title": "Roots & Shoots Rwanda - Gucunga Ibirimo",
                "admin.auth.title": "Kwemeza Umuyobozi",
                "admin.auth.instruction": "Shyiramo ijambobanga kugirango ufate ibirimo",
                "admin.auth.placeholder": "Ijambobanga",
                "admin.auth.login": "Injira",
                "admin.auth.error": "Ijambobanga ntabwo ari byo. Wongere ugerageze.",
                
                // Admin tabs
                "admin.tabs.add": "Ongeraho Ibirimo",
                "admin.tabs.delete": "Gusiba Ibirimo",
                
                // Add content panel
                "admin.add.title": "Ongeraho Ibirimo Bishya",
                "admin.add.news": "Amakuru",
                "admin.add.story": "Inkuru",
                "admin.add.titleLabel": "Umutwe",
                "admin.add.excerptLabel": "Incamake Nto",
                "admin.add.contentLabel": "Ibirimo Byuzuye",
                "admin.add.imagesLabel": "Kuzamura Amashusho (Ishusho ya mbere izakoreshwa nk'igikapo)",
                "admin.add.uploadInstruction": "Kurura amashusho hano cyangwa kanda kugirango ushakishe",
                "admin.add.uploadLimit": "Birazemewe kubika amashusho 5 gusa",
                "admin.add.publish": "Tangaza Ibirimo",
                "admin.add.success": "Ibirimo byatangajwe neza!",
                "admin.add.error": "Nyamuneka uzuzure ibisabwa mu ndimi zose kandi uzamure ishusho imwe byibuze.",
                
                // Delete content panel
                "admin.delete.title": "Gucunga Ibirimo Biriho",
                "admin.delete.instruction": "Hitamo ibirimo ushaka gusiba. Ibi ntibisubirwaho.",
                "admin.delete.success": "Ibirimo byasibwe neza!",
                
                // Footer
                "footer.home": "Ahabanza",
                "footer.about": "Ibyerekeye Twe",
                "footer.news": "Amakuru n'Inkuru",
                "footer.programs": "Porogaramu",
                "footer.donate": "Gutanga",
                "footer.contact": "Twandikire",
                "footer.copyright": "© 2023 Roots & Shoots Rwanda. Amategeko agenga urwego rw'ibikorwa byose."
            }
        };

        // Mock data for news and stories
        const mockData = [
            {
                id: 1,
                type: "news",
                date: "2023-10-15",
                title: {
                    en: "Tree Planting Initiative Reaches 10,000 Seedlings",
                    fr: "L'initiative de plantation d'arbres atteint 10 000 plants",
                    rw: "Urugendo rw'ibiti rushyize 10,000 imbuto"
                },
                excerpt: {
                    en: "Our youth volunteers have successfully planted 10,000 tree seedlings across three districts in Rwanda.",
                    fr: "Nos jeunes bénévoles ont planté avec succès 10 000 plants d'arbres dans trois districts du Rwanda.",
                    rw: "Abaturage bacu bato bashyize imbuto 10,000 z'ibiti mu turere dutatu mu Rwanda."
                },
                content: {
                    en: "The Roots & Shoots Rwanda tree planting initiative has reached a major milestone...",
                    fr: "L'initiative de plantation d'arbres de Roots & Shoots Rwanda a atteint une étape importante...",
                    rw: "Urugendo rwa Roots & Shoots Rwanda rw'ibiti rushyizeho urwego rukomeye..."
                }
            },
            {
                id: 2,
                type: "story",
                date: "2023-10-10",
                title: {
                    en: "Marie's Journey: From Student to Environmental Leader",
                    fr: "Le parcours de Marie : De l'étudiante à la leader environnementale",
                    rw: "Urugendo rwa Marie: Kuva mu mwigishwa kugera ku muyobozi w'ibidukikije"
                },
                excerpt: {
                    en: "Marie, a former Roots & Shoots participant, now leads her own community conservation project.",
                    fr: "Marie, ancienne participante de Roots & Shoots, dirige maintenant son propre projet de conservation communautaire.",
                    rw: "Marie, wigeze kwinjira mu Roots & Shoots, ubu atunganya umushinge we wo kurinda ibidukikije mu muryango."
                },
                content: {
                    en: "Marie first joined Roots & Shoots Rwanda as a high school student in 2018...",
                    fr: "Marie a rejoint Roots & Shoots Rwanda pour la première fois en tant qu'élève du secondaire en 2018...",
                    rw: "Marie yatangiye kwinjira mu Roots & Shoots Rwanda mu mwaka wa 2018 ari umunyeshuli..."
                }
            },
            {
                id: 3,
                type: "news",
                date: "2023-10-05",
                title: {
                    en: "New Partnership with Rwanda Environmental Agency",
                    fr: "Nouveau partenariat avec l'Agence rwandaise de l'environnement",
                    rw: "Isano nshya na Komisiyo y'Igihugu y'Ibidukikije"
                },
                excerpt: {
                    en: "Roots & Shoots Rwanda announces a new collaboration with the Rwanda Environmental Management Authority.",
                    fr: "Roots & Shoots Rwanda annonce une nouvelle collaboration avec l'Autorité rwandaise de gestion de l'environnement.",
                    rw: "Roots & Shoots Rwanda itangaje gukorana na Komisiyo y'Igihugu y'Ibidukikije."
                },
                content: {
                    en: "This partnership will expand our environmental education programs to 50 additional schools...",
                    fr: "Ce partenariat étendra nos programmes d'éducation environnementale à 50 écoles supplémentaires...",
                    rw: "Iyi masezerano izongere amasomo yacu y'ibidukikije ku mashuri 50 anyuranye..."
                }
            },
            {
                id: 4,
                type: "story",
                date: "2023-09-28",
                title: {
                    en: "The Water Conservation Project in Eastern Province",
                    fr: "Le projet de conservation de l'eau dans la province de l'Est",
                    rw: "Umushinge wo kurinda amazi mu Karere ka Iburasirazuba"
                },
                excerpt: {
                    en: "How a small community initiative turned into a region-wide water conservation success story.",
                    fr: "Comment une petite initiative communautaire s'est transformée en une réussite de conservation de l'eau à l'échelle régionale.",
                    rw: "Uko umushinge muto w'umuryango wahanze kuba inkuru y'ihirwe yo kurinda amazi mu karere."
                },
                content: {
                    en: "In the dry regions of Eastern Rwanda, access to clean water has always been a challenge...",
                    fr: "Dans les régions sèches de l'Est du Rwanda, l'accès à l'eau potable a toujours été un défi...",
                    rw: "Mu turere d'ubutaka bworoshye d'i Iburasirazuba bwa Rwanda, kubona amazi meza byari ibibazo..."
                }
            },
            {
                id: 5,
                type: "news",
                date: "2023-09-20",
                title: {
                    en: "Annual Youth Environmental Summit 2023",
                    fr: "Sommet annuel des jeunes pour l'environnement 2023",
                    rw: "Inama y'Umwaka y'Abato y'Ibidukikije 2023"
                },
                excerpt: {
                    en: "Over 300 youth from across Rwanda gathered for the 5th Annual Youth Environmental Summit.",
                    fr: "Plus de 300 jeunes de tout le Rwanda se sont réunis pour le 5e Sommet annuel des jeunes pour l'environnement.",
                    rw: "Abato barenga 300 baturutse mu Rwanda bose baciyemo Inama ya 5 y'Umwaka y'Abato y'Ibidukikije."
                },
                content: {
                    en: "The summit featured workshops, panel discussions, and presentations by young environmental leaders...",
                    fr: "Le sommet a présenté des ateliers, des tables rondes et des présentations par de jeunes leaders environnementaux...",
                    rw: "Iyi nama yari ifite amasomo, inama, n'ibiganiro by'abayobozi b'abadukikije bato..."
                }
            },
            {
                id: 6,
                type: "story",
                date: "2023-09-15",
                title: {
                    en: "Waste to Wealth: Recycling Initiative Creates Jobs",
                    fr: "Des déchets à la richesse : L'initiative de recyclage crée des emplois",
                    rw: "Gutanga akazi: Umushinge wo kwinjiza ibishyashya washyizeho akazi"
                },
                excerpt: {
                    en: "A community recycling project is transforming waste management while creating employment opportunities.",
                    fr: "Un projet communautaire de recyclage transforme la gestion des déchets tout en créant des opportunités d'emploi.",
                    rw: "Umushinge w'umuryango wo kwinjiza ibishyashya ushinduza uburyo bwo gucunga ibishyashya mu gihe ushyiraho akazi."
                },
                content: {
                    en: "In the outskirts of Kigali, a group of young entrepreneurs have established a recycling center...",
                    fr: "Dans la périphérie de Kigali, un groupe de jeunes entrepreneurs a établi un centre de recyclage...",
                    rw: "Mu nkengero za Kigali, itsinda ry'abacuruzi bato ryashyizeho ikigo cyo kwinjiza ibishyashya..."
                }
            }
        ];

        // Current state
        let currentLanguage = 'en';
        let currentFilter = 'all';
        let isAdmin = false;
        let adminImages = [];
        let displayedItems = 4; // For load more functionality

        // DOM Elements
        const languageButtons = document.querySelectorAll('.lang-btn');
        const filterTabs = document.querySelectorAll('.filter-tab');
        const contentFeed = document.getElementById('content-feed');
        const loadMoreBtn = document.querySelector('.load-more-btn');
        const adminOverlay = document.getElementById('admin-overlay');
        const closeAdminBtn = document.getElementById('close-admin');
        const authContainer = document.getElementById('auth-container');
        const adminPanel = document.getElementById('admin-panel');
        const loginBtn = document.getElementById('login-btn');
        const adminPassword = document.getElementById('admin-password');
        const authError = document.getElementById('auth-error');
        const adminTabs = document.querySelectorAll('.admin-tab');
        const adminPanels = document.querySelectorAll('.admin-panel');
        const contentTypeButtons = document.querySelectorAll('.content-type-btn');
        const languageTabs = document.querySelectorAll('.lang-tab');
        const languagePanels = document.querySelectorAll('.lang-panel');
        const imageDropArea = document.getElementById('image-drop-area');
        const imageInput = document.getElementById('image-input');
        const imagePreview = document.getElementById('image-preview');
        const publishBtn = document.getElementById('publish-btn');
        const addSuccess = document.getElementById('add-success');
        const addError = document.getElementById('add-error');
        const contentList = document.getElementById('content-list');
        const deleteSuccess = document.getElementById('delete-success');

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Check if admin is already authenticated
            if (sessionStorage.getItem('isAdmin') === 'true') {
                isAdmin = true;
            }
            
            // Load mock data
            renderContentFeed();
            
            // Set up event listeners
            setupEventListeners();
            
            // Apply initial internationalization
            applyLanguage(currentLanguage);
            
            // Setup keyboard shortcut for admin overlay
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.shiftKey && e.key === 'U') {
                    e.preventDefault();
                    openAdminOverlay();
                }
                
                // Close admin overlay with Escape key
                if (e.key === 'Escape' && adminOverlay.classList.contains('active')) {
                    closeAdminOverlay();
                }
            });
        });

        // Set up all event listeners
        function setupEventListeners() {
            // Language selector
            languageButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    setLanguage(lang);
                });
            });
            
            // Filter tabs
            filterTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const filter = this.getAttribute('data-filter');
                    setFilter(filter);
                });
            });
            
            // Load more button
            loadMoreBtn.addEventListener('click', function() {
                displayedItems += 2;
                renderContentFeed();
            });
            
            // Admin overlay
            closeAdminBtn.addEventListener('click', closeAdminOverlay);
            
            // Admin login
            loginBtn.addEventListener('click', authenticateAdmin);
            adminPassword.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    authenticateAdmin();
                }
            });
            
            // Admin tabs
            adminTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    switchAdminTab(tabId);
                });
            });
            
            // Content type buttons
            contentTypeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    contentTypeButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Language tabs in admin
            languageTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    switchLanguageTab(lang);
                });
            });
            
            // Image upload
            imageDropArea.addEventListener('click', function() {
                imageInput.click();
            });
            
            imageInput.addEventListener('change', handleImageUpload);
            
            // Drag and drop for images
            imageDropArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.borderColor = '#4caf50';
            });
            
            imageDropArea.addEventListener('dragleave', function() {
                this.style.borderColor = 'rgba(255, 255, 255, 0.3)';
            });
            
            imageDropArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.borderColor = 'rgba(255, 255, 255, 0.3)';
                
                if (e.dataTransfer.files.length) {
                    handleImageUpload({ target: { files: e.dataTransfer.files } });
                }
            });
            
            // Publish button
            publishBtn.addEventListener('click', publishContent);
        }

        // Set language
        function setLanguage(lang) {
            currentLanguage = lang;
            
            // Update language buttons
            languageButtons.forEach(button => {
                button.classList.remove('active');
                if (button.getAttribute('data-lang') === lang) {
                    button.classList.add('active');
                }
            });
            
            // Apply language to content
            applyLanguage(lang);
        }

        // Apply language to all i18n elements
        function applyLanguage(lang) {
            // Get translations for current language
            const translations = i18n[lang];
            
            // Update all elements with data-i18n attribute
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[key]) {
                    element.textContent = translations[key];
                }
            });
            
            // Update placeholder attributes
            document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
                const key = element.getAttribute('data-i18n-placeholder');
                if (translations[key]) {
                    element.placeholder = translations[key];
                }
            });
            
            // Re-render content feed with new language
            renderContentFeed();
            
            // Re-render admin content list
            renderAdminContentList();
        }

        // Set filter
        function setFilter(filter) {
            currentFilter = filter;
            
            // Update filter tabs
            filterTabs.forEach(tab => {
                tab.classList.remove('active');
                if (tab.getAttribute('data-filter') === filter) {
                    tab.classList.add('active');
                }
            });
            
            // Re-render content feed
            renderContentFeed();
        }

        // Render content feed
        function renderContentFeed() {
            contentFeed.innerHTML = '';
            
            // Filter data based on current filter
            let filteredData = mockData;
            if (currentFilter !== 'all') {
                filteredData = mockData.filter(item => item.type === currentFilter);
            }
            
            // Limit to displayed items
            const displayData = filteredData.slice(0, displayedItems);
            
            // Create cards
            displayData.forEach(item => {
                const card = document.createElement('div');
                card.className = 'content-card';
                
                const categoryText = item.type === 'news' ? 
                    (currentLanguage === 'en' ? 'News' : 
                     currentLanguage === 'fr' ? 'Actualité' : 'Amakuru') :
                    (currentLanguage === 'en' ? 'Story' : 
                     currentLanguage === 'fr' ? 'Histoire' : 'Inkuru');
                
                const dateObj = new Date(item.date);
                const formattedDate = dateObj.toLocaleDateString(currentLanguage === 'en' ? 'en-US' : 
                    currentLanguage === 'fr' ? 'fr-FR' : 'rw-RW', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                const colors = ['#2e7d32', '#4caf50', '#81c784', '#a5d6a7'];
                const colorIndex = item.id % colors.length;
                
                card.innerHTML = `
                    <div class="card-image" style="background-color: ${colors[colorIndex]}">
                        <div class="category-badge">${categoryText}</div>
                        <i class="fas fa-${item.type === 'news' ? 'newspaper' : 'book-open'}" style="font-size: 3rem;"></i>
                    </div>
                    <div class="card-content">
                        <h3>${item.title[currentLanguage]}</h3>
                        <p class="card-excerpt">${item.excerpt[currentLanguage]}</p>
                        <div class="card-meta">
                            <span>${formattedDate}</span>
                            <span>${categoryText}</span>
                        </div>
                    </div>
                `;
                
                contentFeed.appendChild(card);
            });
            
            // Show/hide load more button
            if (displayedItems >= filteredData.length) {
                loadMoreBtn.style.display = 'none';
            } else {
                loadMoreBtn.style.display = 'inline-block';
            }
        }

        // Open admin overlay
        function openAdminOverlay() {
            adminOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Show auth or admin panel based on authentication
            if (isAdmin) {
                authContainer.style.display = 'none';
                adminPanel.style.display = 'block';
                renderAdminContentList();
            } else {
                authContainer.style.display = 'block';
                adminPanel.style.display = 'none';
                adminPassword.focus();
            }
        }

        // Close admin overlay
        function closeAdminOverlay() {
            adminOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
            
            // Reset form
            resetAdminForm();
        }

        // Authenticate admin
        function authenticateAdmin() {
            const password = adminPassword.value;
            
            // Hardcoded password for development
            if (password === 'admin1234!') {
                isAdmin = true;
                sessionStorage.setItem('isAdmin', 'true');
                authContainer.style.display = 'none';
                adminPanel.style.display = 'block';
                authError.style.display = 'none';
                renderAdminContentList();
            } else {
                authError.style.display = 'block';
                adminPassword.value = '';
                adminPassword.focus();
            }
        }

        // Switch admin tab
        function switchAdminTab(tabId) {
            // Update tab buttons
            adminTabs.forEach(tab => {
                tab.classList.remove('active');
                if (tab.getAttribute('data-tab') === tabId) {
                    tab.classList.add('active');
                }
            });
            
            // Update panels
            adminPanels.forEach(panel => {
                panel.classList.remove('active');
                if (panel.id === `${tabId}-panel`) {
                    panel.classList.add('active');
                }
            });
        }

        // Switch language tab in admin
        function switchLanguageTab(lang) {
            // Update tab buttons
            languageTabs.forEach(tab => {
                tab.classList.remove('active');
                if (tab.getAttribute('data-lang') === lang) {
                    tab.classList.add('active');
                }
            });
            
            // Update panels
            languagePanels.forEach(panel => {
                panel.classList.remove('active');
                if (panel.id === `${lang}-panel`) {
                    panel.classList.add('active');
                }
            });
        }

        // Handle image upload
        function handleImageUpload(e) {
            const files = Array.from(e.target.files);
            
            // Limit to 5 images
            if (adminImages.length + files.length > 5) {
                alert(currentLanguage === 'en' ? 'Maximum 5 images allowed' :
                      currentLanguage === 'fr' ? 'Maximum 5 images autorisées' :
                      'Birazemewe kubika amashusho 5 gusa');
                return;
            }
            
            files.forEach(file => {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        adminImages.push({
                            id: Date.now() + Math.random(),
                            src: e.target.result,
                            name: file.name
                        });
                        
                        renderImagePreview();
                    };
                    
                    reader.readAsDataURL(file);
                }
            });
            
            // Reset file input
            imageInput.value = '';
        }

        // Render image preview
        function renderImagePreview() {
            imagePreview.innerHTML = '';
            
            adminImages.forEach((image, index) => {
                const previewItem = document.createElement('div');
                previewItem.className = 'preview-item';
                
                previewItem.innerHTML = `
                    <img src="${image.src}" alt="Preview ${index + 1}">
                    <button class="remove-image" data-id="${image.id}">&times;</button>
                `;
                
                imagePreview.appendChild(previewItem);
            });
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-image').forEach(button => {
                button.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    adminImages = adminImages.filter(img => img.id != id);
                    renderImagePreview();
                });
            });
        }

        // Publish content
        function publishContent() {
            // Get content type
            const contentType = document.querySelector('.content-type-btn.active').getAttribute('data-type');
            
            // Get content for each language
            const enTitle = document.getElementById('en-title').value.trim();
            const enExcerpt = document.getElementById('en-excerpt').value.trim();
            const enContent = document.getElementById('en-content').value.trim();
            
            const frTitle = document.getElementById('fr-title').value.trim();
            const frExcerpt = document.getElementById('fr-excerpt').value.trim();
            const frContent = document.getElementById('fr-content').value.trim();
            
            const rwTitle = document.getElementById('rw-title').value.trim();
            const rwExcerpt = document.getElementById('rw-excerpt').value.trim();
            const rwContent = document.getElementById('rw-content').value.trim();
            
            // Validate
            if (!enTitle || !enExcerpt || !enContent || 
                !frTitle || !frExcerpt || !frContent ||
                !rwTitle || !rwExcerpt || !rwContent ||
                adminImages.length === 0) {
                
                addError.style.display = 'block';
                addSuccess.style.display = 'none';
                
                // Scroll to error
                addError.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                return;
            }
            
            // Create new content item
            const newId = mockData.length > 0 ? Math.max(...mockData.map(item => item.id)) + 1 : 1;
            const newItem = {
                id: newId,
                type: contentType,
                date: new Date().toISOString().split('T')[0],
                title: {
                    en: enTitle,
                    fr: frTitle,
                    rw: rwTitle
                },
                excerpt: {
                    en: enExcerpt,
                    fr: frExcerpt,
                    rw: rwExcerpt
                },
                content: {
                    en: enContent,
                    fr: frContent,
                    rw: rwContent
                }
            };
            
            // Add to mock data
            mockData.unshift(newItem);
            
            // Reset form
            resetAdminForm();
            
            // Show success message
            addSuccess.style.display = 'block';
            addError.style.display = 'none';
            
            // Update content feed
            renderContentFeed();
            
            // Update admin content list
            renderAdminContentList();
            
            // Switch to delete tab to see the new content
            switchAdminTab('delete-content');
            
            // Scroll to success message
            addSuccess.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Reset admin form
        function resetAdminForm() {
            // Reset all form fields
            document.getElementById('en-title').value = '';
            document.getElementById('en-excerpt').value = '';
            document.getElementById('en-content').value = '';
            
            document.getElementById('fr-title').value = '';
            document.getElementById('fr-excerpt').value = '';
            document.getElementById('fr-content').value = '';
            
            document.getElementById('rw-title').value = '';
            document.getElementById('rw-excerpt').value = '';
            document.getElementById('rw-content').value = '';
            
            // Reset images
            adminImages = [];
            renderImagePreview();
            
            // Hide messages
            addSuccess.style.display = 'none';
            addError.style.display = 'none';
            
            // Reset to first language tab
            switchLanguageTab('en');
        }

        // Render admin content list
        function renderAdminContentList() {
            contentList.innerHTML = '';
            
            mockData.forEach(item => {
                const contentItem = document.createElement('div');
                contentItem.className = 'content-item';
                
                const categoryText = item.type === 'news' ? 
                    (currentLanguage === 'en' ? 'News' : 
                     currentLanguage === 'fr' ? 'Actualité' : 'Amakuru') :
                    (currentLanguage === 'en' ? 'Story' : 
                     currentLanguage === 'fr' ? 'Histoire' : 'Inkuru');
                
                const dateObj = new Date(item.date);
                const formattedDate = dateObj.toLocaleDateString(currentLanguage === 'en' ? 'en-US' : 
                    currentLanguage === 'fr' ? 'fr-FR' : 'rw-RW', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
                
                contentItem.innerHTML = `
                    <div class="item-thumbnail" style="background-color: ${item.type === 'news' ? '#4caf50' : '#2e7d32'};">
                        <i class="fas fa-${item.type === 'news' ? 'newspaper' : 'book-open'}" style="font-size: 2rem; color: white; line-height: 60px;"></i>
                    </div>
                    <div class="item-info">
                        <h4>${item.title[currentLanguage]}</h4>
                        <div class="item-meta">
                            <span>${categoryText}</span>
                            <span>${formattedDate}</span>
                            <span>ID: ${item.id}</span>
                        </div>
                    </div>
                    <button class="delete-btn" data-id="${item.id}" data-i18n="admin.delete.button">Delete</button>
                `;
                
                contentList.appendChild(contentItem);
            });
            
            // Add event listeners to delete buttons
            document.querySelectorAll('.delete-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    deleteContent(id);
                });
            });
        }

        // Delete content
        function deleteContent(id) {
            if (confirm(currentLanguage === 'en' ? 'Are you sure you want to delete this content? This action cannot be undone.' :
                         currentLanguage === 'fr' ? 'Êtes-vous sûr de vouloir supprimer ce contenu ? Cette action ne peut pas être annulée.' :
                         'Urabyizeye ko ushaka gusiba ibi birimo? Ibi ntibisubirwaho.')) {
                
                // Find index of item to delete
                const index = mockData.findIndex(item => item.id === id);
                
                if (index !== -1) {
                    // Remove from mock data
                    mockData.splice(index, 1);
                    
                    // Update content feed
                    renderContentFeed();
                    
                    // Update admin content list
                    renderAdminContentList();
                    
                    // Show success message
                    deleteSuccess.style.display = 'block';
                    setTimeout(() => {
                        deleteSuccess.style.display = 'none';
                    }, 3000);
                }
            }
        }
    </script>
</body>
</html>